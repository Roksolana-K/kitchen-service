{% extends 'layouts/base-presentation.html' %}

{% block title %}Dish Types{% endblock title %}

{% block stylesheets %}{% endblock stylesheets %}

{% block body_class %} bg-gray-100 {% endblock body_class %}

{% block content %}

<div class="container py-7">
  <div class="row justify-content-center">
    <div class="col-lg-8 col-md-10">
      <div class="card shadow-sm">
        <div class="card-header bg-white p-4">
          <div class="d-flex justify-content-between align-items-center">
            <h3 class="mb-0">
              <i class="fas fa-utensils me-2 text-success"></i>
              Dish Types
            </h3>
            {% if user.is_superuser %}
              <a href="{% url 'kitchen:dish-type-create' %}" class="btn btn-primary btn-sm">
                <i class="fas fa-plus me-1"></i> Add New
              </a>
            {% endif %}
          </div>
        </div>

        <form method="get" class="mb-3">
          <div class="input-group input-group-sm p-4 align-items-center " style="max-width: 400px;">
            <input
              type="text"
              name="search"
              class="form-control border-radius-lg"
              placeholder="Search by dish name..."
              value="{{ request.GET.search|default_if_none:'' }}"
              style="max-width: 300px;"
            >
            <button class="btn btn-primary btn-sm ms-2 mb-0" type="submit" style="max-width: 80px;">
              <i class="fas fa-search me-2"></i> Search
            </button>
          </div>
        </form>


        <div class="card-body p-4">
          {% if dish_types %}
            <div class="list-group list-group-flush">
              {% for dish_type in dish_types %}
              <div class="list-group-item border-0 d-flex justify-content-between align-items-center px-0">
                <a href="{% url 'kitchen:dish-type-update' dish_type.id %}" class="text-dark">
                  <i class="fas fa-circle text-success me-2" style="font-size: 8px;"></i>
                  {{ dish_type.name }}
                </a>
                {% if user.is_superuser %}
                  <div class="d-flex">
                    <a href="{% url 'kitchen:dish-type-update' dish_type.id %}" class="btn btn-primary btn-sm mb-3">
                      Update<i class="fas fa-pencil-alt"></i>
                    </a>
                  </div>
                {% endif %}
              </div>
              {% endfor %}
            </div>
          {% else %}
            <div class="text-center py-5">
              <i class="fas fa-utensils fa-3x text-gray-300 mb-3"></i>
              <h5 class="text-gray-600">No dish types found</h5>
              <p class="text-gray-500 mb-4">Create your first dish type to get started</p>
              <a href="{% url 'kitchen:dish-type-create' %}" class="btn btn-success">
                <i class="fas fa-plus me-2"></i> Create Dish Type
              </a>
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock content %}

{% block javascripts %}
  <script src="{{ ASSETS_ROOT }}/js/soft-design-system.min.js?v=1.0.1" type="text/javascript"></script>
{% endblock javascripts %}