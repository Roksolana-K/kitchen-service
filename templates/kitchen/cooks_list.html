{% extends "layouts/base-presentation.html" %}

{% block title %}Cook List{% endblock title %}

{% block body_class %} index-page {% endblock body_class %}

{% block content %}

  <header class="header-2">
    <div class="page-header section-height-50 relative" style="background-image: url('https://images.unsplash.com/photo-1695837390040-ea8077f56205?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')">
      <div class="container">
        <div class="row">
        </div>
      </div>
    </div>
  </header>

  <section class="pt-5 pb-4">
      <div class="container">
          <div class="row">
              <div class="col-lg-10 mx-auto">
                  <div class="d-flex justify-content-between align-items-center mb-4">
                      <h2 class="mb-0">Our Cooks</h2>
                    {% if user.is_superuser %}
                      <a href="{% url 'kitchen:cook-create' %}" class="btn btn-primary btn-sm mb-0">
                          <i class="fas fa-plus me-2"></i> Add New Cook
                      </a>
                    {% endif %}
                  </div>

                  {% if cooks %}
                      <div class="table-responsive">
                          <table class="table table-hover align-middle">
                              <thead>
                                  <tr class="bg-light">
                                      <th class="ps-4">Username</th>
                                      <th>Full Name</th>
                                      <th>Experience</th>
                                      <th class="text-end pe-4">Actions</th>
                                  </tr>
                              </thead>
                              <tbody>

                                  {% for cook in cooks %}
                                      {% if cook == user %}
                                          <tr class="bg-gradient-faded-light-vertical">
                                              <td>{{ cook.username }}</td>
                                              <td>{{ cook.first_name }} {{ cook.last_name }}</td>
                                              <td>{{ cook.years_of_experience }}</td>
                                              <td class="text-end pe-4">
                                                  <a
                                                      href="{% url 'kitchen:cook-detail' cook.id %}"
                                                      class="btn btn-sm btn-primary"
                                                  >
                                                      <i class="fas fa-edit me-1"></i> Details
                                                  </a>
                                              </td>
                                          </tr>
                                      {% endif %}
                                  {% endfor %}

                                  {% for cook in cooks %}
                                      {% if cook != user %}
                                          <tr>
                                              <td>{{ cook.username }}</td>
                                              <td>{{ cook.first_name }} {{ cook.last_name }}</td>
                                              <td>{{ cook.years_of_experience }}</td>
                                              <td class="text-end pe-4">
                                                {% if user.is_superuser %}
                                                  <a
                                                      href="{% url 'kitchen:cook-detail' cook.id %}"
                                                      class="btn btn-sm btn-primary"
                                                  >
                                                      <i class="fas fa-edit me-1"></i> Details
                                                  </a>
                                                {% endif %}
                                              </td>
                                          </tr>
                                      {% endif %}
                                  {% endfor %}
                              </tbody>
                          </table>
                      </div>
                  {% else %}
                      <div class="card shadow-lg text-center p-5">
                          <i class="fas fa-user-slash fa-4x text-gray-300 mb-3"></i>
                          <h5 class="text-gray-600">No cooks yet</h5>
                          <p class="text-gray-500 mb-4">Be the first to add a cook to your team!</p>
                          <a href="{% url 'kitchen:cook-create' %}" class="btn btn-primary btn-sm">
                              <i class="fas fa-plus me-2"></i> Add Cook
                          </a>
                      </div>
                  {% endif %}
              </div>
          </div>
      </div>
  </section>

{% endblock content %}

